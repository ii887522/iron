use iron::ApproxEq;

#[test]
fn test_approx_eq() {
  assert!(0.000001f64.approx_eq(0.000001f64));
  assert!(!0.000001f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(0.000001f64));
  assert!(!0.000001f64.approx_eq(0.0000009f64));
  assert!(!0.0000009f64.approx_eq(0.000001f64));
  assert!(!0.000001f64.approx_eq(0.0000011f64));
  assert!(!0.0000011f64.approx_eq(0.000001f64));
  assert!(0.00001f64.approx_eq(0.00001f64));
  assert!(!0.00001f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(0.00001f64));
  assert!(!0.00001f64.approx_eq(0.0000099f64));
  assert!(!0.0000099f64.approx_eq(0.00001f64));
  assert!(!0.00001f64.approx_eq(0.0000101f64));
  assert!(!0.0000101f64.approx_eq(0.00001f64));
  assert!(0.0001f64.approx_eq(0.0001f64));
  assert!(!0.0001f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(0.0001f64));
  assert!(!0.0001f64.approx_eq(0.0000999f64));
  assert!(!0.0000999f64.approx_eq(0.0001f64));
  assert!(!0.0001f64.approx_eq(0.0001001f64));
  assert!(!0.0001001f64.approx_eq(0.0001f64));
  assert!(0.001f64.approx_eq(0.001f64));
  assert!(!0.001f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(0.001f64));
  assert!(!0.001f64.approx_eq(0.0009999f64));
  assert!(!0.0009999f64.approx_eq(0.001f64));
  assert!(!0.001f64.approx_eq(0.0010001f64));
  assert!(!0.0010001f64.approx_eq(0.001f64));
  assert!(0.01f64.approx_eq(0.01f64));
  assert!(!0.01f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(0.01f64));
  assert!(!0.01f64.approx_eq(0.0099999f64));
  assert!(!0.0099999f64.approx_eq(0.01f64));
  assert!(!0.01f64.approx_eq(0.0100001f64));
  assert!(!0.0100001f64.approx_eq(0.01f64));
  assert!(0.1f64.approx_eq(0.1f64));
  assert!(!0.1f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(0.1f64));
  assert!(!0.1f64.approx_eq(0.0999999f64));
  assert!(!0.0999999f64.approx_eq(0.1f64));
  assert!(!0.1f64.approx_eq(0.1000001f64));
  assert!(!0.1000001f64.approx_eq(0.1f64));
  assert!(1.0f64.approx_eq(1.0f64));
  assert!(!1.0f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(1.0f64));
  assert!(!1.0f64.approx_eq(0.9999999f64));
  assert!(!0.9999999f64.approx_eq(1.0f64));
  assert!(!1.0f64.approx_eq(1.0000001f64));
  assert!(!1.0000001f64.approx_eq(1.0f64));
  assert!(10.0f64.approx_eq(10.0f64));
  assert!(!10.0f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(10.0f64));
  assert!(!10.0f64.approx_eq(9.9999999f64));
  assert!(!9.9999999f64.approx_eq(10.0f64));
  assert!(!10.0f64.approx_eq(10.000001f64));
  assert!(!10.000001f64.approx_eq(10.0f64));
  assert!(100.0f64.approx_eq(100.0f64));
  assert!(!100.0f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(100.0f64));
  assert!(!100.0f64.approx_eq(99.9999999f64));
  assert!(!99.9999999f64.approx_eq(100.0f64));
  assert!(!100.0f64.approx_eq(100.000001f64));
  assert!(!100.000001f64.approx_eq(100.0f64));
  assert!(1000.0f64.approx_eq(1000.0f64));
  assert!(!1000.0f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(1000.0f64));
  assert!(!1000.0f64.approx_eq(999.999999f64));
  assert!(!999.999999f64.approx_eq(1000.0f64));
  assert!(!1000.0f64.approx_eq(1000.00001f64));
  assert!(!1000.00001f64.approx_eq(1000.0f64));
  assert!(10000.0f64.approx_eq(10000.0f64));
  assert!(!10000.0f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(10000.0f64));
  assert!(!10000.0f64.approx_eq(9999.99999f64));
  assert!(!9999.99999f64.approx_eq(10000.0f64));
  assert!(!10000.0f64.approx_eq(10000.0001f64));
  assert!(!10000.0001f64.approx_eq(10000.0f64));
  assert!(100000.0f64.approx_eq(100000.0f64));
  assert!(!100000.0f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(100000.0f64));
  assert!(!100000.0f64.approx_eq(99999.9999f64));
  assert!(!99999.9999f64.approx_eq(100000.0f64));
  assert!(!100000.0f64.approx_eq(100000.001f64));
  assert!(!100000.001f64.approx_eq(100000.0f64));
  assert!(1000000.0f64.approx_eq(1000000.0f64));
  assert!(!1000000.0f64.approx_eq(0.0f64));
  assert!(!0.0f64.approx_eq(1000000.0f64));
  assert!(!1000000.0f64.approx_eq(999999.999f64));
  assert!(!999999.999f64.approx_eq(1000000.0f64));
  assert!(!1000000.0f64.approx_eq(1000000.01f64));
  assert!(!1000000.01f64.approx_eq(1000000.0f64));
  assert!(!1000000.0f64.approx_eq(999999.9999999f64));
  assert!(!999999.9999999f64.approx_eq(1000000.0f64));
  assert!(!1000000.0f64.approx_eq(1000000.0000001f64));
  assert!(!1000000.0000001f64.approx_eq(1000000.0f64));
}
